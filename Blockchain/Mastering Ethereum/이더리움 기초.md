# CHAPTER 2 이더리움 기초

## 이더 화폐 단위

이더리움의 화폐 단위는 이더(ether)라고 불리며, 1이더, 1ETH라고 표기한다. 이더는 더 작은 단위로 세분화되어 웨이(wei)라는 가능한 가장 작은 단위까지 내려간다. 1개의 이더는 100경 웨이(1 * 10의 18승)이다.

이더의 가치는 항상 이더리움 내부에서 웨이로 표시된 부호 없는 정숫값으로 표현된다. 1이더를 거래할 때, 그 트랜잭션은 1000000000000000000웨이 값으로 인코딩해서 표기한다.

이더는 다양한 단위를 가지고 있다. SI를 이용한 학명뿐만 아니라 컴퓨터와 암호학 분야의 위대한 인물들에게 경의를 표하는 구어체 이름도 함께 사용한다.

## 이더리움 지갑 선택하기

이더리움 지갑은 이더리움 시스템의 관문이다. 지갑은 사용자의 키를 보유하고, 사용자를 대신해 트랜잭션을 생성하고 브로드캐스트할 수 있다.

좋은 스타터 지갑

- 메타마스크(MetaMask): 브라우저에서 실행되는 브라우저 확장 지갑. 사용하기 쉽고 테스트하기 편리하다. 웹 기반 지갑
- 잭스(Jaxx): 다양한 운영체제에서 실행되는 다중 플랫폼 및 다중 화폐 지갑. 단순하고 사용하기 쉽도록 설계되어 새로운 사용자를 위한 좋은 선택이다. 모바일 또는 데스크톱 지갑
- 마이이더월렛(MyEtherWallet, MEW): 모든 브라우저에서 실행되는 웹 기반 지갑. 정교한 기능이 있다. 웹 기반 지갑
- 에메랄드 지갑(Emerald Wallet): 오픈 소스 데스크톱 애플리케이션이며, 윈도우, 맥OS 및 리눅스에서 작동한다. 풀 노드를 실행하거나 ‘가벼운' 모드에서 작동하는 공개 원격 노드에 연결할 수 있다. 커맨드 라인에서 모든 작업을 수행할 수 있는 보조 도구가 있다.

## 월드 컴퓨터 소개

이더의 암호화폐 기능은 탈중앙화된 월드 컴퓨터로서 이더리움의 기능에 부차적인 것이다. 이더는 이더리움 가상 머신이라고 하는 에뮬레이트된 컴퓨터에서 실행되는 컴퓨터 프로그램인 스마트 컨트랙트를 실행하는 데 사용되기 위한 것이다.

EVM은 글로벌 싱글톤으로, 마치 전 세계에 걸친 단일 인스턴스 컴퓨터인 것처럼 작동하며 세상 어디에서든 실행된다. 이더리움 네트워크의 각 노드는 컨트랙트 실행을 확인하기 위해 EVM의 로컬 사본을 실행하고, 이더리움 블록체인은 트랜잭션과 스마트 컨트랙트를 처리할 때 월드 컴퓨터의 변화하는 상태를 기록한다.

## 외부 소유 계정(EOA) 및 컨트랙트

메타마스크 지갑에서 생성한 계정의 유형을 외부 소유 계정(Externally Owned Account, EOA)이라고 한다. 외부 소유 계정은 개인키가 있는 계정이다. 개인키를 갖는다는 것은 자금 또는 컨트랙트에 대한 접근을 제어한다는 뜻이다. 다른 유형의 계정은 컨트랙트 계정이다. 컨트랙트 계정에는 단순한 EOA가 가질 수 없는 스마트 컨트랙트 코드가 있다. 컨트랙트 계정에는 개인키가 없다. 컨트랙트 계정은 스마트 컨트랙트 코드의 로직으로 제어한다. 여기서 스마트 컨트랙트 코드는 컨트랙트 계정 생성 시 이더리움 블록체인에 기록되고 EVM에 의해 실행되는 소프트웨어 프로그램이다.

컨트랙트에는 EOA와 마찬가지로 주소가 있으며, 이더를 보내고 받을 수 있다. 그러나 트랜잭션 목적지가 컨트랙트 주소일 때 트랜잭션과 트랜잭션 데이터를 입력으로 사용해 컨트랙트가 EVM에서 실행된다. 이더 외에도 트랜잭션에는 실행할 컨트랙트의 특정 함수와 해당 함수에 전달할 파라미터를 나타내는 데이터가 포함될 수 있다. 이렇게 트랜잭션은 컨트랙트 내의 함수를 호출할 수 있다.

컨트랙트 계정에는 개인키가 없어 트랜잭션을 시작할 수 없다. EOA만 트랜잭션을 시작할 수 있지만, 컨트랙트는 복잡한 실행 경로를 구축하고 다른 컨트랙트를 호출해 컨트랙트에 반응할 수 있다. 이것을 사용하는 전형적인 방법은 다중 서명 스마트 트랙잭션 지갑에 지급요청 트랜잭션을 전송해 일부 ETH를 다른 주소로 보내는 것이다. 일반적으로 댑(DApp) 프로그래밍 패턴은 컨트랙트 A가 컨트랙트 B를 호출하게 하는 것인데, 이렇게 하면 컨트랙트 A의 사용자들 간에 공유된 상태를 유지할 수 있게 된다.
